<script src="https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script>

<!DOCTYPE html>
<html lang="en">
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>                                <!-- the react library -->
        <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>                           <!-- the react DOM -->
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>                               <!-- enables babel so Javascript can be used in the browser -->
        <title>Bar Chart</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="./style.css">
    </head>
    <body>
        <style>

            .bar:hover {
                fill: brown;
            }

            @media (max-width: 650px) {
                .mobile-menu {
                    display: block;
                }
                .normal-menu {
                    display: none;
                }
            }

        </style>
        <header id="header">
        </header>
        <main id="main">
            <!--[if lt IE 7]>
                <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
            <![endif]-->


            <script type="text/babel">

                const dataset = [
                              [ 34,     78 ],
                              [ 109,   280 ],
                              [ 310,   120 ],
                              [ 79,   411 ],
                              [ 420,   220 ],
                              [ 233,   145 ],
                              [ 333,   96 ],
                              [ 222,    333 ],
                              [ 78,    320 ],
                              [ 21,   123 ]
                            ];

                const w = 500;
                const h = 100;
                const padding = 60;

                const xScale = d3.scaleLinear()
                    .domain([0, d3.max(dataset, (d) => d[0])])
                    .range([padding, w - padding]);

                const yScale = d3.scaleLinear()
                    .domain([0, d3.max(dataset, (d) => d[1])])
                    .range([h - padding, padding]);

                const svg = d3.select("body")
                    .append("svg")
                    .attr("width", w)
                    .attr("height", h);

                const xAxis = d3.axisBottom(xScale);

                svg.append("g")
                    .attr("transform", "translate(0, " + (h - padding) + ")")
                    .call(xAxis);

                const yAxis = d3.axisLeft(yScale);

                svg.append("g")
                    .attr("transform", "translate(" + padding + ", 0)")
                    .call(yAxis);

                svg.selectAll("rect")
                    .data(dataset)
                    .enter()
                    .append("rect")
                    .attr("x", (d, i) => i * 30)
                    .attr("y", (d, i) => h - 3 * d)
                    .attr("width", 25)
                    .attr("height", (d, i) => 3 * d)
                    .attr("fill", "navy");
                    .attr("class", "bar")
                    .append("title")
                    .text(d=>d);

                svg.selectAll("text")
                    .data(dataset)
                    .enter()
                    .append("text")
                    .text((d) => d)
                    .attr("x", (d, i) => i * 30)
                    .attr("y", (d, i) => h - (3 * d) - 3);
                    .style("font-size", "25px")
                    .style("fill", "red")

            </script>
        </main>
        <footer id="footer">
        </footer>
    </body>
</html>
